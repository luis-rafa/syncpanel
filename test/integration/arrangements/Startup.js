sap.ui.define(["sap/ui/test/Opa5","com/colsubsidio/syncpanel/syncpanel/localService/mockserver","sap/ui/model/odata/v2/ODataModel","sap/ui/core/routing/HashChanger","com/colsubsidio/syncpanel/syncpanel/test/flpSandbox","sap/ui/fl/FakeLrepConnectorLocalStorage"],function(e,t,a,s,i,n){"use strict";return e.extend("com.colsubsidio.syncpanel.syncpanel.test.integration.arrangements.Startup",{iStartMyFLPApp:function(e){var a=e||{};this._clearSharedData();a.delay=a.delay||1;var o=[];o.push(t.init(a));o.push(i.init());this.iWaitForPromise(Promise.all(o));n.enableFakeConnector();this.waitFor({autoWait:a?a.autoWait:true,success:function(){(new s).setHash(a.intent+(a.hash?"&/"+a.hash:""))}})},iRestartTheAppWithTheRememberedItem:function(e){var t;this.waitFor({success:function(){t=this.getContext().currentItem.id}});this.waitFor({success:function(){e.hash="Epss/"+encodeURIComponent(t);this.iStartMyFLPApp(e)}})},_clearSharedData:function(){a.mSharedData={server:{},service:{},meta:{}}}})});