sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/UIComponent","sap/m/library"],function(e,n,t){"use strict";var o=t.URLHelper;return e.extend("com.colsubsidio.syncpanel.syncpanel.controller.BaseController",{getRouter:function(){return n.getRouterFor(this)},URL_SYNC:{1:"dispensacion/sync/causalesExterno",2:"dispensacion/sync/constantesErp",3:"dispensacion/sync/contratosMarco",4:"dispensacion/sync/conveniosCentroIps",5:"dispensacion/sync/conversoresEps",6:""},ajax:function(e,n,t){var o,s;s=$.isEmptyObject(n)?{}:n;o={type:s.type!==null&&typeof s.type!=="undefined"?s.type:"GET",url:"/colsubsidio-app/"+e,contentType:s.contentType!==null&&typeof s.contentType!=="undefined"?s.contentType:"application/json",headers:$.isEmptyObject(s.headers)?{Accept:"application/json"}:s.headers,dataType:s.dataType!==null&&typeof s.dataType!=="undefined"?s.dataType:"json",data:s.data!==null&&typeof s.data!=="undefined"?s.data:""};if(!$.isEmptyObject(t)){if($.isFunction(t.beforeSend)){o.beforeSend=t.beforeSend}if($.isFunction(t.success)){o.success=t.success}if($.isFunction(t.error)){o.error=t.error}if($.isFunction(t.complete)){o.complete=t.complete}}$.ajax(o).always(function(e,n,t){if($.isFunction(t.getResponseHeader)&&t.getResponseHeader("com.sap.cloud.security.login")){alert("Session is expired, page shall be reloaded.");window.location.reload();console.log("Valid expired session")}})},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,n){return this.getView().setModel(e,n)},getResourceBundle:function(){return this.getOwnerComponent().getModel("i18n").getResourceBundle()},onShareEmailPress:function(){var e=this.getModel("objectView")||this.getModel("worklistView");o.triggerEmail(null,e.getProperty("/shareSendEmailSubject"),e.getProperty("/shareSendEmailMessage"))},addHistoryEntry:function(){var e=[];return function(n,t){if(t){e=[]}var o=e.some(function(e){return e.intent===n.intent});if(!o){e.push(n);this.getOwnerComponent().getService("ShellUIService").then(function(n){n.setHierarchy(e)})}}}()})});